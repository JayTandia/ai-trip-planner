import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for location: Las Vegas, for 3 days for couple with a cheap budget, Give me a hotel options list with Hotel Name, Hotel Address, Price, hotel image url, geo coordinates, ratings , descriptions and suggest itinerary with place name, place details, place image url, geo coordinates, ticket price , rating, time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$80 per night\",\n      \"image_url\": \"https://images.trvl-media.com/media/hotels/1000000/900000/899000/898998/f64d6138_z.jpg\",\n      \"geo_coordinates\": \"36.1697, -115.1425\",\n      \"ratings\": 4.0,\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street, offering a lively atmosphere, gaming, and dining options.\"\n    },\n    {\n      \"name\": \"The Golden Nugget\",\n      \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$60-$100 per night\",\n      \"image_url\": \"https://media.cntraveler.com/photos/5f75782e4264960009c3e060/master/w_1600,c_limit/Golden-Nugget-Las-Vegas-Pool.jpg\",\n      \"geo_coordinates\": \"36.1698, -115.1421\",\n      \"ratings\": 4.5,\n      \"description\": \"A historic hotel known for its elaborate casino and the impressive \"Shark Tank\" aquarium.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$70 per night\",\n      \"image_url\": \"https://www.circuscircus.com/content/dam/circus-circus/images/hotel/circus-circus-hotel-exterior-day-time.jpg\",\n      \"geo_coordinates\": \"36.1059, -115.1722\",\n      \"ratings\": 3.5,\n      \"description\": \"A family-friendly hotel with a classic circus theme, offering affordable rooms and entertainment options.\"\n    },\n    {\n      \"name\": \"The Strat Hotel, Casino & Skypod\",\n      \"address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$55-$90 per night\",\n      \"image_url\": \"https://www.thestrat.com/content/dam/the-strat/images/hotel-rooms/strat-hotel-room-king-bed-night-view.jpg\",\n      \"geo_coordinates\": \"36.1235, -115.1636\",\n      \"ratings\": 4.0,\n      \"description\": \"A towering hotel known for its observation deck and thrilling rides on top of the building.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": {\n        \"place_name\": \"Fremont Street Experience\",\n        \"place_details\": \"A pedestrian mall with a vibrant atmosphere, featuring live music, street performers, and the famous canopy of lights.\",\n        \"image_url\": \"https://www.fremontstreetexperience.com/wp-content/uploads/2019/09/FS-Experience-Aerial-View.jpg\",\n        \"geo_coordinates\": \"36.1696, -115.1424\",\n        \"ticket_price\": \"Free\",\n        \"rating\": 4.5,\n        \"time_travel\": \"2 hours\"\n      },\n      \"afternoon\": {\n        \"place_name\": \"The Mob Museum\",\n        \"place_details\": \"A fascinating museum dedicated to the history of organized crime in Las Vegas and the United States.\",\n        \"image_url\": \"https://www.themobmuseum.org/wp-content/uploads/2019/12/mob-museum-exterior-night-1-scaled.jpg\",\n        \"geo_coordinates\": \"36.1677, -115.1468\",\n        \"ticket_price\": \"$25-$30\",\n        \"rating\": 4.0,\n        \"time_travel\": \"2 hours\"\n      },\n      \"evening\": {\n        \"place_name\": \"Golden Nugget Casino\",\n        \"place_details\": \"A historic casino with a vibrant atmosphere, offering gaming, dining, and the iconic Shark Tank aquarium.\",\n        \"image_url\": \"https://www.goldennugget.com/content/dam/goldennugget/images/casino/golden-nugget-casino-floor-overview.jpg\",\n        \"geo_coordinates\": \"36.1698, -115.1421\",\n        \"ticket_price\": \"Free\",\n        \"rating\": 4.5,\n        \"time_travel\": \"3 hours\"\n      }\n    },\n    \"day2\": {\n      \"morning\": {\n        \"place_name\": \"Hoover Dam\",\n        \"place_details\": \"A majestic engineering marvel and a popular tourist destination, offering tours and scenic views.\",\n        \"image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/08/48/a7/f2/hoover-dam-from-the-top.jpg\",\n        \"geo_coordinates\": \"36.0252, -114.9648\",\n        \"ticket_price\": \"$30-$40\",\n        \"rating\": 5.0,\n        \"time_travel\": \"4 hours (including travel time)\"\n      },\n      \"afternoon\": {\n        \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n        \"place_details\": \"A stunning floral display with different themes throughout the year, free to enter.\",\n        \"image_url\": \"https://www.bellagio.com/content/dam/bellagio/images/experiences/conservatory/conservatory-garden.jpg\",\n        \"geo_coordinates\": \"36.1116, -115.1713\",\n        \"ticket_price\": \"Free\",\n        \"rating\": 4.5,\n        \"time_travel\": \"1 hour\"\n      },\n      \"evening\": {\n        \"place_name\": \"The LINQ Promenade\",\n        \"place_details\": \"An outdoor shopping and entertainment district with restaurants, bars, and the High Roller observation wheel.\",\n        \"image_url\": \"https://www.linq.com/content/dam/linq/images/home/hero-image-v2.jpg\",\n        \"geo_coordinates\": \"36.1095, -115.1720\",\n        \"ticket_price\": \"Free\",\n        \"rating\": 4.0,\n        \"time_travel\": \"2 hours\"\n      }\n    },\n    \"day3\": {\n      \"morning\": {\n        \"place_name\": \"Red Rock Canyon National Conservation Area\",\n        \"place_details\": \"A scenic desert landscape with hiking trails, rock formations, and stunning views.\",\n        \"image_url\": \"https://www.nps.gov/redr/planyourvisit/images/red-rock-canyon-national-conservation-area.jpg\",\n        \"geo_coordinates\": \"36.1815, -115.3785\",\n        \"ticket_price\": \"$15 per vehicle\",\n        \"rating\": 4.5,\n        \"time_travel\": \"3 hours\"\n      },\n      \"afternoon\": {\n        \"place_name\": \"Las Vegas Strip\",\n        \"place_details\": \"The iconic stretch of Las Vegas Boulevard, home to numerous casinos, hotels, and entertainment venues.\",\n        \"image_url\": \"https://www.visitlasvegas.com/content/dam/visitlasvegas/images/article-images/hero-images/2020/10/las-vegas-strip-night-skyline-hero.jpg\",\n        \"geo_coordinates\": \"36.1146, -115.1728\",\n        \"ticket_price\": \"Free\",\n        \"rating\": 5.0,\n        \"time_travel\": \"2 hours\"\n      },\n      \"evening\": {\n        \"place_name\": \"Free Show at Bellagio Fountains\",\n        \"place_details\": \"A spectacular water and light show synchronized to music, held every 15 minutes in the evening.\",\n        \"image_url\": \"https://www.bellagio.com/content/dam/bellagio/images/experiences/fountains-of-bellagio/fountains-of-bellagio-hero.jpg\",\n        \"geo_coordinates\": \"36.1116, -115.1713\",\n        \"ticket_price\": \"Free\",\n        \"rating\": 4.5,\n        \"time_travel\": \"1 hour\"\n      }\n    }\n  }\n}\n```\n\n**Notes:**\n\n* This itinerary is just a suggestion and can be customized based on your interests and preferences.\n* Hotel prices are approximate and may vary depending on the season and availability.\n* It is recommended to book hotel reservations and attractions in advance, especially during peak season.\n* Consider using public transportation or ride-sharing services to get around Las Vegas.\n* Check for discounts and promotions available at attractions and restaurants.\n* Remember to stay hydrated and wear sunscreen, especially during the summer months.\n* Enjoy your trip to Las Vegas!\n"},
          ],
        },
      ],
    });
  
 